<openerp>
    <data>
        <record model="ir.ui.view" id="view_quotation_comparison_tree">
            <field name="name">Quotation Comparison Form Tree</field>
            <field name="model">quotation.comparison.form</field>
            <field name="priority" eval="1"/>
            <field name="arch" type="xml">
                <tree>
                    <field name="complete_name" string="Document"/>
                    <field name="date_pp" string="Date"/>
                    <field name="origin" string="Source Document"/>
                    <field name="company_id" string="Company"/>
                    <field name="state" string="State"/>
                </tree>
            </field>
        </record>

        <!-- View Form: Path -->
        <record id="view_quotation_comparison_form" model="ir.ui.view">
            <field name="name">Quotation Comparison Form </field>
            <field name="model">quotation.comparison.form</field>
            <field name="priority">1</field>
            <field name="arch" type="xml">
                <form>
                     <header coolspan="10">
                            <field name="state" widget="statusbar" statusbar_visible="draft,confirm,done"/>
                     </header>
                    <sheet>
                        <div class="oe_title" colors="blue">
                             <h1>
                                 <label string="Quotation Comparison Form"
                                       attrs="{'invisible': [('state','not in',('draft','sent','bid'))]}"/>
                                 <label string="Quotation Comparison Form"
                                       attrs="{'invisible': [('state','in',('draft','sent','bid'))]}"/>
                                 <field name="complete_name" class="oe_inline" readonly="1" />
                             </h1>
                         </div>
                            <group col = '2'>
                                 <group>
                                     <field name="date_pp" string="Date"
                                           attrs="{'readonly' : ['|',('state', '=', 'done'),('state','=','reject')]}" required="0"/>
                                     <field name="origin" string="Source Document" options="{'no_create_edit': True}"/>
                                     <field name="requisition_id" />
                                </group>
                                <group>
                                   <field name="company_id" string="Company" options="{'no_create_edit': True}"/>
                                     <field name="type_location" string="Location" />
                                </group>
                            </group>
                            <separator string="Quotation Comparison"/>
                            <field name="v_quotation_comparison_line_ids" track_visibility="onchange"
                                                   attrs="{'readonly' : ['|',('state', '=', 'done'),('state','=','reject')]}"
                                                context="{'tree_view_ref' : 'purchase_indonesia.view_tree_quotation_comparison_line',
                                                       }"/>
                            <separator string="Recomendation/Remarks"/>
                            <field name="remarks"/>
                            <field name="quotation_comparison_line_ids" track_visibility="onchange"
                                                   attrs="{'readonly' : ['|',('state', '=', 'done'),('state','=','reject')]}"
                                                context="{'tree_view_ref' : 'purchase_indonesia.view_quotation_comparison_line',
                                                       }"/>

                    </sheet>
                </form>
            </field>
        </record>


         <record model="ir.ui.view" id="view_quotation_comparison_line">
            <field name="name">Quotation Comparison Line</field>
            <field name="model">quotation.comparison.form.line</field>
            <field name="arch" type="xml">
                <tree string="Quotation Comparison Line Tree" colors="green:price_subtotal==cheapest;" create="false" editable='bottom' delete="true">
                    <field name="id"  invisible="1" readonly="1"/>
                    <field name="req_id" invisible="1" string="Requisition_id" options="{'no_create_edit': True}"/>
                    <field name="company_id" string="Company" invisible="1"/>
                    <field name="product_id" string="Product"   options="{'no_create_edit': True}"/>
                    <field name="rownum" string="Row" invisible="1"/>
                    <field name="cheapest" string="Cheapest" invisible="1"/>
                    <field name="price_subtotal" invisible="1"/>
                    <field name="product_uom" string="UOM" invisible="1" options="{'no_create_edit': True}"/>
                    <field name="partner_id" string="Vendor" options="{'no_create_edit': True}"/>
                    <field name="price_unit" string="Price" invisible="1"/>
                    <field name="price_tax" string="Tax Price" invisible="1"/>
                    <field name="payment_term_id" string="Payment Term" invisible="1" options="{'no_create_edit': True}" />
                    <field name="date_planned" string="Delivery" invisible="1" />
                    <field name="incoterm_id" string="FRANCO" invisible="1" options="{'no_create_edit': True}"/>
                </tree>
            </field>
        </record>

        <record model="ir.ui.view" id="view_tree_quotation_comparison_line">
            <field name="name">Quotation Comparison Line</field>
            <field name="model">v.quotation.comparison.form.line</field>
            <field name="arch" type="xml">
                <tree string="Quotation Comparison Line Tree" colors="red:isheader==5; blue:isheader==6,; blue:isheader==7; blue:isheader==8;" create="false" editable='bottom' delete="true">
                    <field name="id"  invisible="1" readonly="1"/>
                    <field name="req_id" invisible="1" string="Requisition_id" options="{'no_create_edit': True}"/>
                    <field name="isheader" invisible="1"/>
                    <field name="product_id" string="Product"  options="{'no_create_edit': True}"/>
                    <field name="grand_total_label" string="Label" />
                    <field name="hide" invisible="1"/>
                    <field name="product_qty" string="Qty" />
                    <field name="product_uom" string="UOM" options="{'no_create_edit': True}"/>
                    <field name="vendor1" string="Vendor 1" />
                    <field name="vendor2" string="Vendor 2" />
                    <field name="vendor3" string="Vendor 3" />
                    <field name="vendor4" string="Vendor 4" />
                    <field name="vendor5" string="Vendor 5" />
                    <field name="vendor6" string="Vendor 6" />
                    <field name="vendor7" string="Vendor 7" />
                    <field name="vendor8" string="Vendor 8" />
                    <field name="vendor9" string="Vendor 9" />
                    <field name="vendor10" string="Vendor 10"/>
                    <field name="po_des_all_name" string="Spesification" />
                </tree>
            </field>
        </record>

        <record model="ir.actions.act_window" id="quotation_comparison_action">
            <field name="name">Quotation Comparison</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">quotation.comparison.form</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{"search_default_requested_by":uid}</field>
            <!--<field name="search_view_id" ref="view_purchase_request_search"/>-->
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to start a new Quotation Comparison.
              </p><p>
                A Quotation Comparison is an instruction to Comparing Price Per Vendor, so that they are
                available at a certain point in time.
              </p>
            </field>
        </record>

        <record model="ir.actions.act_window" id="quotation_comparison_line_action">
            <field name="name">Quotation Comparison Line</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">v.quotation.comparison.form.line</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{"search_default_requested_by":uid,"hide":True}</field>
            <!--<field name="search_view_id" ref="view_purchase_request_search"/>-->
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to start a new Quotation Comparison.
              </p><p>
                A Quotation Comparison is an instruction to Comparing Price Per Vendor, so that they are
                available at a certain point in time.
              </p>
            </field>
        </record>

        <menuitem
            id="menu_quotation_comparison_act"
            sequence="3"
            parent="purchase.menu_procurement_management"
            action="quotation_comparison_action"
            />
    </data>
</openerp>