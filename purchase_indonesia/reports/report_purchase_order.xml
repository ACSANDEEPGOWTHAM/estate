<?xml version="1.0" encoding="utf-8"?>
<!--Custom report.-->
<openerp>
    <data>
        <template id="report_purchase_order">
            <t t-call="report.html_container">
                <t t-foreach="docs" t-as="o">
            		<t t-call="report.internal_layout">
						<div class="page" style="font-family: times; background-color:white; color:black;">
		              		<!-- Header -->
		              		<div class="row" style="text-align:left;font-size:14pt;">
		              			<div class="col-xs-12" >
		                       		<table class="noborder">
		                       		    <tr style="height:30px;">
		                       		        <td class="noborder" width="10%">
		                       		            <b>Date</b>
		                       		        </td>
		                       		        <td class="noborder">
		                       		            <b>: <span t-field="o.date_order" t-field-options="{&quot;format&quot;: &quot;dd MMMM yyyy&quot;}"/></b>
		                       		        </td>
		                       		    </tr>
		                       		    <tr style="height:30px;">
		                       		        <td class="noborder" width="20%">
		                       		            <t t-if="o.request_id.type_product == 'service' ">
													<b>SPO No.</b>
												</t>
												<t t-if="o.request_id.type_product in ['consu','product'] ">
													<b>PO No.</b>
												</t>
		                       		        </td>
		                       		        <td class="noborder">
		                       		            <b>: <span t-field="o.complete_name"/></b>	
		                       		        </td>
		                       		    </tr>
		                       		    <!--<tr style="height:30px;">-->
		                       		        <!--<td class="noborder" width="20%">-->
		                       		            <!--<b>Page</b>-->
		                       		        <!--</td>-->
		                       		        <!--<td class="noborder">-->
		                       		            <!--<b>: </b>-->
		                       		        <!--</td>-->
		                       		    <!--</tr>-->
		                       		    <tr style="height:30px;">
		                       		        <td class="noborder" width="20%">
		                       		            <b>To</b>
		                       		        </td>
		                       		        <td class="noborder">
		                       		          	<b>: <span t-field="o.partner_id.name"/></b>
		                       		        </td>
		                       		    </tr>
		                       		    <tr style="height:30px;">
		                       		        <td class="noborder" width="20%">
		                       		            <b>Address</b>
		                       		        </td>
		                       		        <td class="noborder">
		                       		            : <b>
		                       		            	<span t-field="o.partner_id.street"/>
		                       		            	<span t-field="o.partner_id.street2"/>
		                       		            	<span t-field="o.partner_id.zip"/>
		                       		            	<span t-field="o.partner_id.city"/>
		                       		          	</b>
		                       		        </td>
		                       		    </tr>
		                       		    <tr style="height:30px;">
		                       		        <td class="noborder" colspan="2">
		                       		        </td>
		                       		    </tr>
		                       		    <tr style="height:30px;">
		                       		        <td class="noborder" width="20%">
		                       		            <b>Attn</b>
		                       		        </td>
		                       		        <td class="noborder">
		                       		            <b>: <span t-field="o.confirmed_by_person"/> </b>
		                       		        </td>
		                       		    </tr>
		                       		    <tr style="height:30px;">
		                       		        <td class="noborder" width="20%">
		                       		            <b>Phone</b>
		                       		        </td>
		                       		        <td class="noborder">
		                       		            : <b> <span t-field="o.partner_id.phone"/></b>
		                       		        </td>
		                       		    </tr>
		                       		    <tr style="height:30px;">
		                       		        <td class="noborder" width="20%">
		                       		            <b>Confirmed By</b>
		                       		        </td>
		                       		        <td class="noborder">
		                       		         	: <b><span t-field="o.confirmed_by"/> (<span t-field="o.confirmed_by_value"/>)</b>
		                       		        </td>
		                       		    </tr>
		                       		    <tr style="height:30px;">
		                       		        <td class="noborder" colspan="2" style="text-align: right;">
		                       		            <b>Reff PP : <span t-field="o.source_purchase_request"/></b>
		                       		        </td>
		                       		    </tr>
		                       		</table>
								</div>
							</div>
							
							<br></br>
							<br></br>
							
							<div class="row" style="text-align:center; font-size:20pt;">
		              			<div class="col-xs-12" >
									<t t-if="o.request_id.type_product == 'service' ">
										<b>SERVICE PURCHASE ORDER (SPO)</b>
									</t>
									<t t-if="o.request_id.type_product in ['consu','product'] ">
										<b>PURCHASE ORDER (PO)</b>
									</t>
								</div>
							</div>
							
							<br></br>
							<br></br>
							
							<!-- Variabel -->
							
		              		<!-- Detail Header -->
		           			<div class="row" style="text-align:left;font-size:14pt;">
		              			<table class="table table-striped table-condensed table-bordered" width="100%">
		                            <thead>
			                            <tr class="label_table_header">
										    <th>
										      CODE
										    </th>
										    <th>
										      DESCRIPTION
										    </th>
										    <th>
										      QTY
										    </th>
										    <th>
										      UOM
										    </th>
										    <th>
										      PRICE/UNIT
										    </th>
										    <th>
										      TOTAL
										    </th>
										</tr>
									</thead>
									<tbody>
										<t t-foreach="o.order_line" t-as="l">
											<tr>
											    <td>
											      	<span t-field="l.product_id.default_code"/>
											    </td>
											    <td>
											      	<span t-field="l.product_id.name"/>
											    </td>
											    <td align="center">
											      	<span t-field="l.product_qty"/>
											    </td>
											    <td align="center">
											      	<span t-field="l.product_uom"/>
											    </td>
											    <td align="right">
											      	<span t-field="l.price_unit"/>
											    </td>
											    <td align="right">
											      	<span t-field="l.price_subtotal"/>
											    </td>
											</tr>
										</t>
										
										<tr>
										    <td colspan="4">
										        &#160;
										    </td>
										    <td>
										      	Sub Total
										    </td>
										    <td align="right">
										      	<span t-field="o.amount_untaxed"/>
										    </td>
										</tr>
										<tr>
										    <td colspan="4">
										        &#160;
										    </td>
										    <td>
										      	Tax
										    </td>
										    <td align="right">
										      	<span t-field="o.amount_tax"/>
										    </td>
										</tr>
										<tr>
										    <td colspan="5" style="text-align: center;">
										      	GRAND TOTAL
										    </td>
										    <td align="right">
										      	<span t-field="o.amount_total"/>
										    </td>
										</tr>
										<tr>
										    <td colspan="3" class="noborder" style="border-right: 1px solid black;">
										      	Delivery 	:
										    </td>
										    <td colspan="3" class="noborder" align="center">
										      	<u>PAYMENT</u>
										    </td>
										</tr>
										<tr>
										    <td colspan="3" class="noborder" style="border-right: 1px solid black;">
										      	<span t-field="o.picking_type_id.warehouse_id.name"/>
										    </td>
										    <td colspan="3" class="noborder">
										      	TOP			: <span t-field="o.payment_term_id"/>
										    </td>
										</tr>
										<tr>
										    <td colspan="3"  class="noborder" style="border-right: 1px solid black;">
										      	Address 	:
										    </td>
										    <td colspan="3" class="noborder">
										      	&#160; 
										    </td>
										</tr>
										<tr>
										    <td colspan="3"  class="noborder" style="border-right: 1px solid black;">
										      	<span t-field="o.picking_type_id.warehouse_id.partner_id.street"/>
	                       		            	<span t-field="o.picking_type_id.warehouse_id.partner_id.street2"/>
	                       		            	<span t-field="o.picking_type_id.warehouse_id.partner_id.zip"/>
	                       		            	<span t-field="o.picking_type_id.warehouse_id.partner_id.city"/>
										    </td>
										    <td colspan="3" class="noborder">
										      	Currency	: <span t-field="o.currency_id"/>
										    </td>
										</tr>
									</tbody>
								</table>
								<table width="100%">
		                            <tr>
		                          		<td class="noborder" width="25%">
		                          		    Distribution	:
		                          		</td>
		                          		<td class="noborder" style="text-align: center;">
		                          		    Approved by,
		                          		</td>
		                          	</tr>      
								    <tr>
		                          		<td class="noborder" width="25%">
		                          		    1. Vendor
		                          		</td>
		                          		<td class="noborder" style="text-align: center;">
		                          		    &#160;
		                          		</td>
		                          	</tr>
		                          	<tr>
		                          		<td class="noborder" width="25%">
		                          		    2. Accounting
		                          		</td>
		                          		<td class="noborder" style="text-align: center;">
		                          		    &#160;
		                          		</td>
		                          	</tr>
		                          	<tr>
		                          		<td class="noborder" width="25%">
		                          		    3. File
		                          		</td>
		                          		<td class="noborder" style="text-align: center;">
		                          		    <t t-foreach="o.message_ids" t-as="mids">
												<t t-foreach="mids.tracking_value_ids" t-as="mids_tracking">
												    <t t-if="mids_tracking.field == 'state' and mids_tracking.new_value_char == 'Purchase Order'">
													    <u>
													        <span t-field="mids.author_id"/>&#160;
														</u>
														<!--<br/>-->
														    <!--<span t-field="mids.date"/>&#160;-->
														<!--<br/>-->
														<!--[-->
													        <!--<span t-field="mids_tracking.old_value_char"/>&#160;to-->
													        <!--<span t-field="mids_tracking.new_value_char"/>-->
														<!--]-->
												    </t>
												</t>
											</t>
		                          		</td>
		                          	</tr>
		                          	<tr>
		                          		<td class="noborder" width="25%">
		                          		    &#160;
		                          		</td>
		                          		<td class="noborder" style="text-align: center;">
		                          		    
		                          		</td>
		                          	</tr>
								</table>
							</div>
						</div>	
                    </t>
                </t>
            </t>
        </template>
    </data>
</openerp>