<?xml version="1.0" encoding="utf-8"?>
<!--Custom report.-->

<openerp>
    <data>
        <template id="report_plantation_div_document">
            <t t-call="report.external_layout">
                <div class="page">
                    <!--First Row-->
                        <div class="row col-xs-12" style="text-align:center;font-family: times; background-color:white;color:black; font-size:20pt;">
                            <div class="col-xs-12" >
                                <b>REPORT SELECTION PRE NURSERY</b>
                            </div>
                        </div>

                    <!-- SECOND ROW -->
                        <div class="row col-xs-12">
                            <div class="col-xs-12" style="font-family: times;font-size:14pt;">
                                <table>
                                    <thead>
                                        <td><p style="font-family: times; font-size:20pt;">Report Detail</p></td>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <td><b style="font-family: times; font-size:15pt;">Report Name </b></td>
                                        <td>: <span t-field="o.name" style="font-family: times; font-size:15pt;"/></td>
                                        <td coolspan="4">
                                            <tr>
                                                <td><b style="font-family: times; font-size:15pt;">Estate Location </b></td>
                                                <td>: <span t-field="o.kebun_location_id" style="font-family: times; font-size:15pt;"/></td>
                                            </tr>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><b style="font-family: times; font-size:15pt;">Report Date </b></td>
                                        <td>: <span t-field="o.report_date" style="font-family: times; font-size:15pt;"/></td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                            <br>
                            </br>
                            <br>
                            </br>
                        </div>

                        <!-- Deklarasi variabel global -->
                        <t t-set="totalVariety" t-value="0"/>
                        <t t-set="totalPlantedDO" t-value="0"/>
                        <t t-set="totalPlantedsec" t-value="0"/>
                        <t t-set="totalCaused1" t-value="0"/>
                        <t t-set="totalCaused2" t-value="0"/>
                        <t t-set="totalCaused3" t-value="0"/>
                        <t t-set="totalCaused4" t-value="0"/>
                        <t t-set="totalCaused5" t-value="0"/>
                        <t t-set="totalCaused6" t-value="0"/>
                        <t t-set="totalCaused7" t-value="0"/>
                        <t t-set="totalCaused8" t-value="0"/>
                        <t t-set="totalCaused9" t-value="0"/>
                        <t t-set="totalAbn" t-value="0"/>

                        <!-- Third ROW -->
                        <div class="row col-xs-12" style="background-color:white;color:black;">
                            <div class="row col-xs-3">
                                <table width="100%">
                                    <tr>
                                        <td valign="center" style="width:10%; font-size:9pt;border: 1px solid black !important; height:40px;">Batch</td>
                                        <td valign="center" style="width:10%; font-size:9pt;border: 1px solid black !important;">Variety</td>
                                        <td valign="center" style="width:10%; font-size:9pt;border: 1px solid black !important;">Do</td>
                                        <td valign="center" style="width:10%; font-size:9pt;border: 1px solid black !important;">Planted Batch</td>
                                    </tr>
                                    <tr height="40" t-foreach="o.batch_ids" t-as="s" style="font-family: times; font-size:8pt; ">
                                        <t t-set="totalVariety" t-value="totalVariety+s.qty_received"/>
                                        <t t-set="totalPlantedDO" t-value="totalPlantedDO+s.qty_planted_temp"/>
                                        <td style="width:10%; font-size:9pt;border: 1px solid black !important;"><span t-field="s.name"/></td>
                                        <td style="width:10%; font-size:9pt;border: 1px solid black !important;"><span t-field="s.variety_id.name"/></td>
                                        <td style="width:10%; font-size:9pt;border: 1px solid black !important;"><span t-field="s.qty_received"/></td>
                                        <td style="width:10%; font-size:9pt;border: 1px solid black !important;"><span t-field="s.qty_planted_temp"/></td>
                                        <t t-foreach="s.selection_ids" t-as="a" >
                                            <t t-if="a.selectionstage_id.stage_id.code == 'PN'">
                                                <tr height="40" style="font-family: times; font-size:8pt;">
                                                    <td style="width:10%; font-size:9pt;color:white; border: 1px solid black !important;">&#160;</td>
                                                    <td style="width:10%; font-size:9pt;color:white; border: 1px solid black !important;">&#160;</td>
                                                    <td style="width:10%; font-size:9pt;color:white; border: 1px solid black !important;">&#160;</td>
                                                    <td style="width:10%; font-size:9pt;color:white; border: 1px solid black !important;">&#160;</td>
                                                </tr>
                                            </t>
                                        </t>
                                    <tr height="40px">
                                        <td colspan="4" style="width:10%; font-size:9pt;color:black; border: 1px solid black !important;">
                                            Subtotal :
                                        </td>
                                    </tr>
                                    </tr>
                                    <tr>
                                        <td colspan="2" style="width:10%; font-size:9pt;border: 1px solid black !important; height:40px;">Total :</td>
                                        <td style="width:10%; font-size:9pt;border: 1px solid black !important;">
                                            <b t-esc="totalVariety" style="text-align:right;font-family: times; font-size:9pt;"/>
                                        </td>
                                        <td style="width:10%; font-size:9pt;border: 1px solid black !important;">
                                            <b t-esc="totalPlantedDO" style="text-align:right;font-family: times; font-size:9pt;"/>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                            <div class="row col-xs-3">
                                <table width="100%">
                                        <tr>
                                            <td valign="center" style="width:10%; font-size:9pt;border: 1px solid black !important; height:40px;">Selection Planted</td>
                                            <td valign="center" style="width:35%; font-size:9pt;border: 1px solid black !important; ">Selection Date</td>
                                            <td valign="center" style="width:35%; font-size:9pt;border: 1px solid black !important;">Selection Stage</td>
                                            <td valign="center" style="width:30%; font-size:9pt;border: 1px solid black !important;">Selection Information</td>
                                        </tr>
                                    <t height="40" t-foreach="o.batch_ids" t-as="s" style="font-family: times; font-size:8pt;">
                                         <tr>
                                             <td style="width:35%; font-size:9pt;border-bottom: 1px solid black !important; height:40px;"></td>
                                             <td style="width:35%; font-size:9pt;border-bottom: 1px solid black !important;"></td>
                                             <td style="width:30%; font-size:9pt;border-bottom: 1px solid black !important;"></td>
                                             <td style="width:30%; font-size:9pt;border-bottom: 1px solid black !important;"></td>
                                        </tr>
                                        <!-- Deklarasi variabel selection -->
                                            <t t-set="totalPlanted" t-value="0"/>
                                <t t-foreach="s.selection_ids" t-as="a" >
                                    <t t-if="a.selectionstage_id.stage_id.code == 'PN'">
                                        <tr height="40" style="font-family: times; font-size:8pt;">
                                            <td style="width:10%; font-size:9pt;border: 1px solid black !important;">
                                                <t t-set="totalPlanted" t-value="totalPlanted+a.qty_plant"/>
                                                <t t-set="totalPlantedsec" t-value="totalPlantedsec+a.qty_plant"/>
                                                <span t-field="a.qty_plant"/>
                                            </td>
                                            <td style="width:10%; font-size:9pt;border: 1px solid black !important;">
                                                <span t-field="a.selection_date"/>
                                            </td>
                                            <td style="width:10%; font-size:9pt;border: 1px solid black !important;"><span t-field="a.selectionstage_id.name"/></td>
                                            <td style="width:10%; font-size:9pt;border: 1px solid black !important;"><span t-field="a.nursery_information"/></td>
                                        </tr>
                                    </t>
                                </t>
                                        <tr height="40px">
                                            <td style="width:10%; font-size:9pt;color:black; border: 1px solid black !important;">
                                                <b t-esc="totalPlanted" style="text-align:right;font-family: times; font-size:9pt;"/>
                                            </td>
                                            <td colspan="3" style="width:10%; font-size:9pt;color:white; border: 1px solid black !important;"></td>
                                        </tr>
                                    </t>
                                    <tr>
                                        <td style="width:25%; font-size:9pt;border: 1px solid black !important; height:40px;">
                                            <b t-esc="totalPlantedsec" style="text-align:right;font-family: times; font-size:9pt;"/>
                                        </td>
                                        <td colspan="3" style="width:90%; font-size:9pt;border: 1px solid black !important;">&#160;</td>
                                    </tr>
                                </table>
                            </div>
                            <div class="row col-xs-3">
                                <table width="100%">
                                        <tr>
                                            <td valign="center" style="width:10%;text-align:center; font-size:9pt;border: 1px solid black !important; height:40px;">1</td>
                                            <td valign="center" style="width:10%;text-align:center; font-size:9pt;border: 1px solid black !important;">2</td>
                                            <td valign="center" style="width:10%;text-align:center; font-size:9pt;border: 1px solid black !important;">3</td>
                                            <td valign="center" style="width:10%;text-align:center; font-size:9pt;border: 1px solid black !important;">4</td>
                                            <td valign="center" style="width:10%;text-align:center; font-size:9pt;border: 1px solid black !important;">5</td>
                                            <td valign="center" style="width:10%;text-align:center; font-size:9pt;border: 1px solid black !important;">6</td>
                                            <td valign="center" style="width:10%;text-align:center; font-size:9pt;border: 1px solid black !important;">7</td>
                                            <td valign="center" style="width:10%;text-align:center; font-size:9pt;border: 1px solid black !important;">8</td>
                                            <td valign="center" style="width:10%;text-align:center; font-size:9pt;border: 1px solid black !important;">9</td>
                                        </tr>
                                        <t t-foreach="o.batch_ids" t-as="s" >
                                        <tr>
                                            <td style="width:10%; font-size:9pt;border-bottom: 1px solid black !important; height:40px;"></td>
                                            <td style="width:10%; font-size:9pt;border-bottom: 1px solid black !important;"></td>
                                            <td style="width:10%; font-size:9pt;border-bottom: 1px solid black !important;"></td>
                                            <td style="width:10%; font-size:9pt;border-bottom: 1px solid black !important;"></td>
                                            <td style="width:10%; font-size:9pt;border-bottom: 1px solid black !important;"></td>
                                            <td style="width:10%; font-size:9pt;border-bottom: 1px solid black !important;"></td>
                                            <td style="width:10%; font-size:9pt;border-bottom: 1px solid black !important;"></td>
                                            <td style="width:10%; font-size:9pt;border-bottom: 1px solid black !important;"></td>
                                            <td style="width:10%; font-size:9pt;border-bottom: 1px solid black !important;"></td>
                                        </tr>
                                            <!-- Deklarasi variabel cause -->
                                            <t t-set="totalCause1" t-value="0"/>
                                            <t t-set="totalCause2" t-value="0"/>
                                            <t t-set="totalCause3" t-value="0"/>
                                            <t t-set="totalCause4" t-value="0"/>
                                            <t t-set="totalCause5" t-value="0"/>
                                            <t t-set="totalCause6" t-value="0"/>
                                            <t t-set="totalCause7" t-value="0"/>
                                            <t t-set="totalCause8" t-value="0"/>
                                            <t t-set="totalCause9" t-value="0"/>
                                        <t t-foreach="s.selection_ids" t-as="a" >
                                        <t t-if="a.selectionstage_id.stage_id.code == 'PN'">
                                        <tr height="40" style="font-family: times; font-size:8pt;">
                                            <td style="width:10%; font-size:9pt;border: 1px solid black !important;">
                                                <t t-foreach="a.selectionline_ids" t-as="b">
                                                    <t t-if="b.cause_id.sequence == 1" >
                                                        <t t-set="totalCause1" t-value="totalCause1+b.qty"/>
                                                        <t t-set="totalCaused1" t-value="totalCaused1+b.qty"/>
                                                         <span t-field="b.qty" style="text-align:right;font-family: times; font-size:8pt;"/>
                                                    </t>
                                                </t>
                                            </td>
                                            <td style="width:10%; font-size:9pt;border: 1px solid black !important;">
                                                <t t-foreach="a.selectionline_ids" t-as="b">
                                                    <t t-if="b.cause_id.sequence == 2" >
                                                        <t t-set="totalCause2" t-value="totalCause2+b.qty"/>
                                                        <t t-set="totalCaused2" t-value="totalCaused2+b.qty"/>
                                                         <span t-field="b.qty" style="text-align:right;font-family: times; font-size:8pt;"/>
                                                    </t>
                                                </t>
                                            </td>
                                            <td style="width:10%; font-size:9pt;border: 1px solid black !important;">
                                                <t t-foreach="a.selectionline_ids" t-as="b">
                                                    <t t-if="b.cause_id.sequence == 3" >
                                                        <t t-set="totalCause3" t-value="totalCause3+b.qty"/>
                                                        <t t-set="totalCaused3" t-value="totalCaused3+b.qty"/>
                                                         <span t-field="b.qty" style="text-align:right;font-family: times; font-size:8pt;"/>
                                                    </t>
                                                </t>
                                            </td>
                                            <td style="width:10%; font-size:9pt;border: 1px solid black !important;">
                                                <t t-foreach="a.selectionline_ids" t-as="b">
                                                    <t t-if="b.cause_id.sequence == 4" >
                                                        <t t-set="totalCause4" t-value="totalCause4+b.qty"/>
                                                        <t t-set="totalCaused4" t-value="totalCaused4+b.qty"/>
                                                         <span t-field="b.qty" style="text-align:right;font-family: times; font-size:8pt;"/>
                                                    </t>
                                                </t>
                                            </td>
                                            <td style="width:10%; font-size:9pt;border: 1px solid black !important;">
                                                <t t-foreach="a.selectionline_ids" t-as="b">
                                                    <t t-if="b.cause_id.sequence == 5" >
                                                        <t t-set="totalCause5" t-value="totalCause5+b.qty"/>
                                                        <t t-set="totalCaused5" t-value="totalCaused5+b.qty"/>
                                                         <span t-field="b.qty" style="text-align:right;font-family: times; font-size:8pt;"/>
                                                    </t>
                                                </t>
                                            </td>
                                            <td style="width:10%; font-size:9pt;border: 1px solid black !important;">
                                                <t t-foreach="a.selectionline_ids" t-as="b">
                                                    <t t-if="b.cause_id.sequence == 6" >
                                                        <t t-set="totalCause6" t-value="totalCause6+b.qty"/>
                                                        <t t-set="totalCaused6" t-value="totalCaused6+b.qty"/>
                                                         <span t-field="b.qty" style="text-align:right;font-family: times; font-size:8pt;"/>
                                                    </t>
                                                </t>
                                            </td>
                                            <td style="width:10%; font-size:9pt;border: 1px solid black !important;">
                                                <t t-foreach="a.selectionline_ids" t-as="b">
                                                    <t t-if="b.cause_id.sequence == 7" >
                                                        <t t-set="totalCause7" t-value="totalCause7+b.qty"/>
                                                        <t t-set="totalCaused7" t-value="totalCaused7+b.qty"/>
                                                         <span t-field="b.qty" style="text-align:right;font-family: times; font-size:8pt;"/>
                                                    </t>
                                                </t>
                                            </td>
                                            <td style="width:10%; font-size:9pt;border: 1px solid black !important;">
                                                <t t-foreach="a.selectionline_ids" t-as="b">
                                                    <t t-if="b.cause_id.sequence == 8" >
                                                        <t t-set="totalCause8" t-value="totalCause8+b.qty"/>
                                                        <t t-set="totalCaused8" t-value="totalCaused8+b.qty"/>
                                                         <span t-field="b.qty" style="text-align:right;font-family: times; font-size:8pt;"/>
                                                    </t>
                                                </t>
                                            </td>
                                            <td style="width:10%; font-size:9pt;border: 1px solid black !important;">
                                                <t t-foreach="a.selectionline_ids" t-as="b">
                                                    <t t-if="b.cause_id.sequence == 9" >
                                                        <t t-set="totalCause9" t-value="totalCause9+b.qty"/>
                                                        <t t-set="totalCaused9" t-value="totalCaused9+b.qty"/>
                                                         <span t-field="b.qty" style="text-align:right;font-family: times; font-size:8pt;"/>
                                                    </t>
                                                </t>
                                            </td>
                                        </tr>
                                        </t>
                                        </t>
                                        <tr height="40px">
                                            <td style="width:10%; font-size:9pt;color:black; border: 1px solid black !important;">
                                                <b t-esc="totalCause1" style="text-align:right;font-family: times; font-size:9pt;"/>
                                            </td>
                                            <td style="width:10%; font-size:9pt;color:black; border: 1px solid black !important;">
                                                <b t-esc="totalCause2" style="text-align:right;font-family: times; font-size:9pt;"/>
                                            </td>
                                            <td style="width:10%; font-size:9pt;color:black; border: 1px solid black !important;">
                                                <b t-esc="totalCause3" style="text-align:right;font-family: times; font-size:9pt;"/>
                                            </td>
                                            <td style="width:10%; font-size:9pt;color:black; border: 1px solid black !important;">
                                                <b t-esc="totalCause4" style="text-align:right;font-family: times; font-size:9pt;"/>
                                            </td>
                                            <td style="width:10%; font-size:9pt;color:black; border: 1px solid black !important;">
                                                <b t-esc="totalCause5" style="text-align:right;font-family: times; font-size:9pt;"/>
                                            </td>
                                            <td style="width:10%; font-size:9pt;color:black; border: 1px solid black !important;">
                                                <b t-esc="totalCause6" style="text-align:right;font-family: times; font-size:9pt;"/>
                                            </td>
                                            <td style="width:10%; font-size:9pt;color:black; border: 1px solid black !important;">
                                                <b t-esc="totalCause7" style="text-align:right;font-family: times; font-size:9pt;"/>
                                            </td>
                                            <td style="width:10%; font-size:9pt;color:black; border: 1px solid black !important;">
                                                <b t-esc="totalCause8" style="text-align:right;font-family: times; font-size:9pt;"/>
                                            </td>
                                            <td style="width:10%; font-size:9pt;color:black; border: 1px solid black !important;">
                                                <b t-esc="totalCause9" style="text-align:right;font-family: times; font-size:9pt;"/>
                                            </td>
                                        </tr>
                                        </t>
                                    <tr>
                                            <td style="width:10%; font-size:9pt;border: 1px solid black !important;
                                            border-right: 1px solid black !important; height:40px;">
                                                <b t-esc="totalCaused1" style="text-align:right;font-family: times; font-size:9pt;"/>
                                            </td>
                                            <td style="width:10%; font-size:9pt;border: 1px solid black !important;border-right: 1px solid black !important;">
                                                <b t-esc="totalCaused2" style="text-align:right;font-family: times; font-size:9pt;"/>
                                            </td>
                                            <td style="width:10%; font-size:9pt;border: 1px solid black !important;border-right: 1px solid black !important;">
                                                <b t-esc="totalCaused3" style="text-align:right;font-family: times; font-size:9pt;"/>
                                            </td>
                                            <td style="width:10%; font-size:9pt;border: 1px solid black !important;border-right: 1px solid black !important;">
                                                <b t-esc="totalCaused4" style="text-align:right;font-family: times; font-size:9pt;"/>
                                            </td>
                                            <td style="width:10%; font-size:9pt;border: 1px solid black !important;border-right: 1px solid black !important;">
                                                <b t-esc="totalCaused5" style="text-align:right;font-family: times; font-size:9pt;"/>
                                            </td>
                                            <td style="width:10%; font-size:9pt;border: 1px solid black !important;border-right: 1px solid black !important;">
                                                <b t-esc="totalCaused6" style="text-align:right;font-family: times; font-size:9pt;"/>
                                            </td>
                                            <td style="width:10%; font-size:9pt;border: 1px solid black !important;border-right: 1px solid black !important;">
                                                <b t-esc="totalCaused7" style="text-align:right;font-family: times; font-size:9pt;"/>
                                            </td>
                                            <td style="width:10%; font-size:9pt;border: 1px solid black !important;border-right: 1px solid black !important;">
                                                <b t-esc="totalCaused8" style="text-align:right;font-family: times; font-size:9pt;"/>
                                            </td>
                                            <td style="width:10%; font-size:9pt;border: 1px solid black !important;border-right: 1px solid black !important;">
                                                <b t-esc="totalCaused9" style="text-align:right;font-family: times; font-size:9pt;"/>
                                            </td>
                                        </tr>
                                </table>
                            </div>
                            <div>
                                <table>
                                    <tr>
                                        <th valign="center" style="width:10%; text-align:center;font-size:9pt;border: 1px solid black !important; height:40px;">&#931; ABN</th>
                                        <th valign="center" style="width:10%; text-align:center;font-size:9pt;border: 1px solid black !important;">Comment</th>
                                    </tr>
                                    <t height="40" t-foreach="o.batch_ids" t-as="s" style="font-family: times; font-size:8pt;">
                                        <tr>
                                        <td style="width:10%; font-size:9pt;border-bottom: 1px solid black !important; height:40px;"></td>
                                        <td style="width:10%; font-size:9pt;border-bottom: 1px solid black !important; border-right: 1px solid black !important;"></td>
                                    </tr>
                                        <!-- Deklarasi variabel cause -->
                                        <t t-set="totalAbnormal" t-value="0"/>
                                    <t t-foreach="s.selection_ids" t-as="a" >
                                        <t t-if="a.selectionstage_id.stage_id.code == 'PN'">
                                            <tr height="40" style="font-family: times; font-size:8pt;">
                                                <td style="width:10%; font-size:9pt;border: 1px solid black !important;">
                                                    <t t-set="totalAbnormal" t-value="totalAbnormal+a.qty_abnormal"/>
                                                    <t t-set="totalAbn" t-value="totalAbn+a.qty_abnormal"/>
                                                    <span t-field="a.qty_abnormal"/></td>
                                                <td style="width:10%; font-size:9pt;border: 1px solid black !important;"><span t-field="a.comment"/></td>
                                            </tr>
                                        </t>
                                    </t>
                                    <tr height="40px">
                                        <td style="width:10%; font-size:9pt;color:black; border: 1px solid black !important;">
                                            <b t-esc="totalAbnormal" style="text-align:right;font-family: times; font-size:9pt;"/>
                                        </td>
                                        <td colspan="1" style="width:10%; font-size:9pt;color:black; border: 1px solid black !important; border-right: 1px solid black !important;">
                                        </td>
                                    </tr>
                                    </t>
                                    <tr>
                                        <td colspan="2" style="width:10%; font-size:9pt;border-right: 1px solid black !important;border-bottom: 1px solid black !important; height:40px;">
                                            <b t-esc="totalAbn" style="text-align:right;font-family: times; font-size:9pt;"/>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>

                     <!-- Fifth ROW -->
                    <div class="row col-xs-12">
                        <table width="100%">
                            <tr>
                                <td>
                                    &#160;
                                </td>
                                <td>
                                    &#160;

                                </td>
                                <td>
                                    &#160;
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    &#160;
                                </td>
                                <td>
                                    &#160;

                                </td>
                                <td>
                                    &#160;
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    &#160;
                                </td>
                                <td>
                                    &#160;

                                </td>
                                <td>
                                    &#160;
                                </td>
                            </tr>
                            <tr>
                                <td>
                                  Dibuat Oleh
                                </td>
                                <td>
                                    Diperiksa Oleh
                                </td>
                                <td>
                                  Disetujui Oleh
                                </td>
                            </tr>

                            <tr>
                                <td>
                                    &#160;
                                </td>
                                <td>
                                    &#160;
                                </td>
                                <td>
                                    &#160;

                                </td>
                            </tr>

                            <tr>
                                <td>
                                    &#160;
                                </td>
                                <td>
                                    &#160;

                                </td>
                                <td>
                                    &#160;
                                </td>
                            </tr>

                            <tr>
                                <td>
                                    ........
                                </td>
                                <td>
                                    ........
                                </td>
                                <td>
                                    ........
                                </td>
                            </tr>

                            <tr>
                                <td>
                                    Asisten Bibitan
                                </td>
                                <td>
                                    Estate Manager
                                </td>
                                <td>
                                    GM Pembibitan
                                </td>
                            </tr>

                        </table>
                    </div>



                </div>
            </t>

        </template>
        <template id="reportplantation_div_report">
            <t t-call="report.html_container">
                <t t-foreach="doc_ids" t-as="doc_id">
                    <t t-raw="translate_doc(doc_id, doc_model, 'partner_id.lang','estate_nursery.report_plantation_div_document')"/>
                </t>
            </t>
        </template>
    </data>
</openerp>