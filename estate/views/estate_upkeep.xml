<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
        <!-- Inherit view -->
        <record id="inherited_account_analytic_account_timesheet_form" model="ir.ui.view">
            <field name="name">account.analytic.account.invoice.form.inherit</field>
            <field name="model">account.analytic.account</field>
            <field name="inherit_id" ref="analytic.view_account_analytic_account_form"/>
            <field name="arch" type="xml">
                <xpath expr='//div[@name="project"]' position='inside'>
                    <field name="use_estate"/>
                    <label for="use_estate"/>
                </xpath>
            </field>
        </record>


        <!-- Search View -->
        <record id="upkeep_activity_view_search" model="ir.ui.view">
            <field name="name">Upkeep Activity Search</field>
            <field name="model">estate.upkeep.activity</field>
            <field name="priority" eval="1"/>
            <field name="arch" type="xml">
                <search>
                    <field name="activity_id"/>
                    <field name="upkeep_date"/>
                    <filter name="filter_new" string="Draft/Confirmed"
                            domain="[('state', 'in', ('draft','confirmed'))]"/>
                    <filter name="filter_approved" string="Approved"
                            domain="[('state', '=', 'approved')]"/>
                    <filter name="filter_month" icon="terp-go-month" string="This Month"
                            domain="[('upkeep_date','&lt;=',(context_today()+relativedelta(day=31)).strftime('%%Y-%%m-%%d')), ('upkeep_date','&gt;=',(context_today()-relativedelta(day=1)).strftime('%%Y-%%m-%%d'))]"/>
                    <filter name="filter_year" icon="terp-go-year" string="This Year"
                            domain="[('upkeep_date','&lt;=',(context_today()+relativedelta(day=31, month=12)).strftime('%%Y-%%m-%%d')), ('upkeep_date','&gt;=',(context_today()-relativedelta(day=1, month=1)).strftime('%%Y-%%m-%%d'))]"/>

                    <group string="Group By">
                        <filter name="by_activity" string="Activity"
                                context="{'group_by': 'activity_id'}"/>
                        <filter name="by_date" string="Date"
                                context="{'group_by': 'upkeep_date'}"/>
                    </group>
                </search>
            </field>
        </record>

        <record id="upkeep_labour_view_search" model="ir.ui.view">
            <field name="name">Upkeep Labour Search</field>
            <field name="model">estate.upkeep.labour</field>
            <field name="priority" eval="1"/>
            <field name="arch" type="xml">
                <search>
                    <field name="employee_id"/>
                    <field name="upkeep_team_id"/>
                    <field name="upkeep_date"/>
                    <field name="activity_id"/>
                    <field name="location_id"/>
                    <filter name="filter_new" string="Draft/Confirmed"
                            domain="[('state', 'in', ('draft','confirmed'))]"/>
                    <filter name="filter_approved" string="Approved"
                            domain="[('state', '=', 'approved')]"/>
                    <filter name="filter_month" icon="terp-go-month" string="This Month"
                            domain="[('upkeep_date','&lt;=',(context_today()+relativedelta(day=31)).strftime('%%Y-%%m-%%d')), ('upkeep_date','&gt;=',(context_today()-relativedelta(day=1)).strftime('%%Y-%%m-%%d'))]"/>
                    <filter name="filter_year" icon="terp-go-year" string="This Year"
                            domain="[('upkeep_date','&lt;=',(context_today()+relativedelta(day=31, month=12)).strftime('%%Y-%%m-%%d')), ('upkeep_date','&gt;=',(context_today()-relativedelta(day=1, month=1)).strftime('%%Y-%%m-%%d'))]"/>
                    <group string="Group By">
                        <filter name="by_team" string="Team"
                                context="{'group_by': 'upkeep_team_id'}"/>
                        <filter name="by_employee" string="Employee"
                                context="{'group_by': 'employee_id'}"/>
                        <filter name="by_date" string="Date"
                                context="{'group_by': 'upkeep_date'}"/>
                        <filter name="by_activity" string="Activity"
                                context="{'group_by': 'activity_id'}"/>
                        <filter name="by_location" string="Location"
                                context="{'group_by': 'location_id'}"/>
                    </group>
                </search>
            </field>
        </record>
        <!--
        <record id="inherited_view_seed_batch_form" model="ir.ui.view">
            <field name="name">view_seed_batch_form.inherit</field>
            <field name="model">estate.nursery.batch</field>
            <field name="inherit_id" ref="view_seed_batch_form"/>
            <field name="arch" type="xml">
                <xpath expr='//group[@name="top_right"]' position='inside'>
                    <group name="account" string="Account">
                        <field name="account_income_id"/>
                        <field name="account_expense_id"/>
                    </group>
                </xpath>
            </field>
        </record>
        -->

        <!-- Upkeep -->
        <record id="upkeep_view_search" model="ir.ui.view">
            <field name="name">Upkeep Search</field>
            <field name="model">estate.upkeep</field>
            <field name="priority" eval="1"/>
            <field name="arch" type="xml">
                <search>
                    <field name="team_id"/>
                    <field name="division_id"/>
                    <field name="estate_id"/>
                    <separator/>
                    <field name="date"/>
                    <filter name="filter_new" string="Draft/Confirmed"
                            domain="[('state', 'in', ('draft','confirmed'))]"/>
                    <filter name="filter_approved" string="Approved"
                            domain="[('state', '=', 'approved')]"/>
                    <filter icon="terp-go-month" string="This Month"
                            domain="[('date','&lt;=',(context_today()+relativedelta(day=31)).strftime('%%Y-%%m-%%d')), ('date','&gt;=',(context_today()-relativedelta(day=1)).strftime('%%Y-%%m-%%d'))]"/>
                    <group string="Group By">
                        <filter name="by_team" string="Team"
                                context="{'group_by': 'team_id'}"/>
                        <filter name="by_date" string="Date"
                                context="{'group_by': 'date'}"/>
                    </group>
                </search>
            </field>
        </record>

        <record id="upkeep_view_tree" model="ir.ui.view" >
            <field name="name">Upkeep Tree</field>
            <field name="model">estate.upkeep</field>
            <field name="priority" eval="1"/>
            <field name="arch" type="xml">
                <tree colors="red:state in ('draft','confirmed')">
                    <field name="date"/>
                    <field name="estate_id"/>
                    <field name="division_id"/>
                    <field name="team_id"/>
                    <field name="assistant_id"/>
                    <!-- do not remove -->
                    <field name="state" invisible="True"/>
                </tree>
            </field>
        </record>

        <record id="upkeep_view_form" model="ir.ui.view" >
            <field name="name">Upkeep Form</field>
            <field name="model">estate.upkeep</field>
            <field name="priority" eval="1"/>
            <field name="arch" type="xml">
                <form string="Upkeep">
                    <header>
                        <button class="oe_highlight" name="button_confirmed" string="Confirmed"
                                type="object" states="draft" groups="estate.group_assistant"/>
                        <button class="oe_highlight" name="button_approved" string="Approved"
                                type="object" states="confirmed" groups="estate.group_manager"/>
                        <button class="oe_highlight" name="button_cancel" string="Cancel"
                                type="object" states="confirmed,approved" groups="estate.group_manager"/>
                        <field name="state" widget="statusbar"
                               statusbar_visible="draft,confirmed,approved,payslip"/>
                    </header>
                    <sheet string="Upkeep">
                        <h1>
                            <label string="Draft Upkeep"/>
                        </h1>
                        <group>
                            <group string="Team Work">
                                <field name="date" attrs="{'readonly': [('state','not in',('draft','confirmed'))]}"/>
                                <field name="team_id" options="{'no_create': True}"
                                       attrs="{'readonly': [('state','not in',('draft','confirmed'))]}"/>
                                <field name="assistant_id" options="{'no_create': True}"
                                        attrs="{'readonly': [('state','not in',('draft','confirmed'))]}"/>
                            </group>
                            <group string="Estate Information">
                                <field name="division_id" options="{'no_create': True}"
                                        attrs="{'readonly': [('state','not in',('draft','confirmed'))]}"/>
                                <field name="estate_id" options="{'no_create': True}"
                                        attrs="{'readonly': [('state','not in',('draft','confirmed'))]}"/>
                            </group>
                        </group>
                        <notebook>
                            <page string="Upkeep Activity">
                                <field name="activity_line_ids" attrs="{'readonly': [('state','not in',('draft','confirmed'))]}">
                                    <tree editable="true">
                                        <field name="division_id" invisible="True"/>
                                        <field name="activity_id"
                                               options="{'no_create': True}"/>
                                        <field name="activity_uom_id" readonly="True"
                                               string="UoM"/>
                                        <field name="lot_id"
                                               options="{'no_create': True}"/>
                                        <field name="location_ids"
                                               options="{'no_create': True}"
                                               widget="many2many_tags"
                                               domain="[('inherit_location_id.location_id', '=', division_id)]"/>
                                        <field name="unit_amount" string="Qty."/>
                                        <field name="amount"/>
                                        <!-- do not remove field below -->
                                        <field name="account_id"/>
                                        <field name="upkeep_id" invisible="True"/>

                                        <!--
                                        <field name="name"
                                                invisible="True"/>
                                        <field name="account_id"
                                               domain="[('type','=','normal'),('use_estate','=',1)]"
                                               options="{'no_open': True, 'no_create': True}"
                                               invisible="True"/>
                                        <field name="general_account_id"
                                               invisible="True"/>
                                        <field name="journal_id" string="Journal"
                                                options="{'no_create': True}"
                                                invisible="True"/>
                                        <field name="date"
                                               invisible="True"/>
                                        <field name="amount"
                                                invisible="True"/>
                                        -->
                                    </tree>
                                    <!--
                                    <form>
                                        <group>
                                            <field name="activity_id"/>
                                            <field name="activity_uom_id"/>
                                            <field name="lot_id"/>
                                            <field name="location_ids" widget="many2many_tags"/>
                                            <field name="unit_amount"/>
                                            <field name="name"/>
                                            <field name="account_id"/>
                                            <field name="journal_id"/>
                                            <field name="general_account_id"/>
                                            <field name="amount"/>
                                            <field name="date"/>
                                        </group>
                                    </form>
                                    -->
                                </field>
                            </page>
                            <page string="Labour">
                                <div class="oe_button_box oe_right">
                                    <button string="Calculate Qty"
                                            name="calculate_labour_qty"
                                            type="object"
                                            help="Calculate labour's work result which has attendance code. It will reset previous entry."
                                            attrs="{'invisible': [('state', '!=', 'draft')]}"/>
                                </div>
                                <field name="labour_line_ids" attrs="{'readonly': [('state','not in',('draft','confirmed'))]}">
                                    <tree editable="True">
                                        <field name="employee_id" string="Employee"/>
                                        <field name="contract_type" string="Type" readonly="True"/>
                                        <field name="activity_id" string="Activity"
                                                options="{'no_create': True}"/>
                                        <field name="activity_uom_id" string="UoM" readonly="True"/>
                                        <field name="location_id" string="Location"
                                                domain="[('inherit_location_id.location_id', '=', division_id)]"/>
                                        <field name="attendance_code_id" string="Attn."
                                                options="{'no_create': True}"/>
                                        <field name="quantity" string="Qty."/>
                                        <field name="quantity_overtime" widget="float_time" string="OT"
                                                attrs="{'readonly':[('contract_type','=','2')]}"/>
                                        <field name="quantity_piece_rate" string="PR"
                                                attrs="{'readonly':[('contract_type','=','1')]}"/>
                                        <field name="amount" groups="estate.group_assistant, estate.group_manager"/>
                                        <field name="ratio_quantity_day" string="Q/D" invisible="False" groups="estate.group_assistant, estate.group_manager"/>
                                        <field name="ratio_day_quantity" string="D/Q" invisible="False" groups="estate.group_assistant, estate.group_manager"/>
                                        <field name="ratio_wage_quantity" string="W/Q" invisible="False" groups="estate.group_assistant, estate.group_manager"/>
                                        <field name="prod_quantity_day" string="Prod (%)" groups="estate.group_assistant, estate.group_manager"/>
                                        <!-- do not remove field below -->
                                        <!--<field name="var_quantity_day" string="Var (%)" groups="estate.group_assistant, estate.group_manager"/>-->
                                        <field name="upkeep_id" invisible="True"/>
                                        <field name="division_id" invisible="True"/>
                                        <field name="number_of_day" invisible="True"/>
                                        <field name="wage_number_of_day" invisible="True"/>
                                        <field name="wage_overtime" invisible="True"/>
                                        <field name="wage_piece_rate" invisible="True"/>
                                    </tree>
                                </field>
                            </page>
                            <page string="Material">
                                <field name="material_line_ids" attrs="{'readonly': [('state','not in',('draft','confirmed'))]}">
                                    <tree editable="True">
                                        <field name="product_id" string="Material"/>
                                        <field name="product_uom_id" string="UoM"/>
                                        <field name="unit_amount" string="Qty."/>
                                        <field name="amount"/>
                                        <field name="activity_id" string="Activity"/>
                                        <field name="activity_uom_id" string="UoM"/>
                                        <!-- -->
                                        <!--<field name="activity_unit_amount" string="Qty. Act"/>-->
                                        <!--<field name="ratio_product_activity" string="Ratio"/>-->
                                        <!-- -->
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                        <field name="comment" attrs="{'readonly': [('state','not in',('draft','confirmed'))]}"/>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="upkeep_activity_view_form" model="ir.ui.view">
            <field name="name">Upkeep Activity Form</field>
            <field name="model">estate.upkeep.activity</field>
            <field name="priority" eval="1"/>
            <field name="arch" type="xml">

                <form name="estate.upkeep.activity">
                    <header>
                        <field name="state" widget="statusbar"
                               statusbar_visible="draft,confirmed,approved,payslip"/>
                    </header>
                    <sheet>
                        <div class="oe_title">
                            <label for="Upkeep" class="oe_edit_only"/>
                            <h1>
                                <field name="upkeep_id" readonly="True"/>
                            </h1>
                        </div>
                        <group>
                            <group name="top" string="Activity" colspan="4">
                                <field name="activity_id" readonly="True"
                                       options="{'no_create': True, 'no_open': True}"/>
                                <field name="activity_uom_id" readonly="True"
                                       string="Unit" options="{'no_create': True, 'no_open': True}"/>
                                <field name="lot_id" readonly="True"
                                       options="{'no_create': True, 'no_open': True}"/>
                                <field name="location_ids" readonly="True"
                                       options="{'no_create': True, 'no_open': True}"
                                       widget="many2many_tags"/>
                            </group>
                        </group>
                        <group>
                            <group string="Labour">
                                <field name="labour_unit_amount"/>
                                <field name="labour_number_of_day"/>
                                <field name="labour_overtime_amount"/>
                                <field name="labour_piece_rate_amount"/>

                                <!-- do not remove field below -->
                                <!--

                                <field name="name" invisible="True"/>
                                <field name="account_id" domain="[('type','=','normal'),('use_estate','=',1)]"
                                       options="{'no_open': True, 'no_create': True}" invisible="True"/>
                                <field name="general_account_id" invisible="True"/>
                                <field name="journal_id" string="Journal" options="{'no_create': True}" invisible="True"/>
                                <field name="date" invisible="True"/>
                                <field name="amount" invisible="True"/>
                                -->
                            </group>
                            <group name="cost" string="Cost">
                                <field name="labour_amount" string="Labour Wage"/>
                                <field name="material_amount" string="Material Cost"/>
                                <field name="amount" string="Activity Cost"/>
                                <field name="account_id" readonly="True"/>
                            </group>
                            <group string="Productivity">
                                <field name="ratio_quantity_day"/>
                                <field name="ratio_day_quantity"/>
                                <field name="ratio_wage_quantity"/>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- Upkeep -->
        <record id="upkeep_labour_view_form" model="ir.ui.view">
            <field name="name">Labour Form</field>
            <field name="model">estate.upkeep.labour</field>
            <field name="priority" eval="1"/>
            <field name="arch" type="xml">
                <form>
                    <header>
                        <field name="state" widget="statusbar"
                               statusbar_visible="draft,confirmed,approved,payslip"/>
                    </header>
                    <sheet>
                        <div class="oe_title">
                            <label for="Upkeep" class="oe_edit_only"/>
                            <h1>
                                <field name="upkeep_id" readonly="True"/>
                            </h1>
                        </div>

                        <group>
                            <group name="top" colspan="4">
                                <field name="employee_id"/>
                                <field name="upkeep_team_employee_id" string="Team Leader"/>
                                <field name="contract_type" readonly="True"/>
                                <field name="contract_period" readonly="True"/>
                                <field name="activity_id"/>
                                <field name="activity_uom_id" readonly="True"/>
                                <field name="location_id"/>
                                <field name="division_id"/>
                            </group>
                            <group string="Work Result">
                                <field name="quantity"/>
                                <field name="quantity_overtime"/>
                                <field name="quantity_piece_rate"/>
                                <field name="attendance_code_id"/>
                                <field name="number_of_day"/>
                            </group>
                            <group string="Wage">
                                <field name="wage_number_of_day"/>
                                <field name="wage_overtime"/>
                                <field name="wage_piece_rate"/>
                                <field name="amount"/>
                            </group>
                            <group string="Productivity">
                                <field name="ratio_quantity_day"/>
                                <field name="ratio_day_quantity"/>
                                <field name="ratio_wage_quantity"/>
                            </group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="upkeep_labour_view_tree" model="ir.ui.view" >
            <field name="name">Upkeep Labour Tree</field>
            <field name="model">estate.upkeep.labour</field>
            <field name="priority" eval="1"/>
            <field name="context" eval="{'search_default_employee_id': 1}"/>
            <field name="arch" type="xml">
                <tree colors="red:state in ('draft','confirmed')">
                    <field name="upkeep_date" string="Date"/>
                    <field name="upkeep_team_id" string="Team"/>
                    <field name="employee_id" string="Employee"/>
                    <field name="number_of_day" string="Day(s)" sum="Day(s)"/>
                    <field name="location_id" string="Location"/>
                    <field name="activity_id" string="Activity"/>
                    <field name="activity_uom_id" string="UoM"/>
                    <field name="quantity" string="Qty."/>
                    <field name="quantity_overtime" string="OT" sum="OT"/>
                    <field name="quantity_piece_rate" string="PR"/>
                    <!-- remove to shorten tree
                    <field name="wage_number_of_day" string="W_HK" groups="base.group_hr_manager,estate.group_assistant"/>
                    <field name="wage_overtime" string="W_OT" groups="base.group_hr_manager,estate.group_assistant"/>
                    <field name="wage_piece_rate" string="W_PR" groups="base.group_hr_manager,estate.group_assistant"/>
                    -->
                    <field name="amount" string="Wage" sum="Wage"/>
                    <field name="prod_quantity_day" string="Prod (%)" avg="Productivity"/>
                    <field name="state" invisible="True"/>
                </tree>
            </field>
        </record>

        <record id="upkeep_material_view_tree" model="ir.ui.view">
            <field name="name">Upkeep Material Tree</field>
            <field name="model">estate.upkeep.material</field>
            <field name="priority" eval="1"/>
            <field name="arch" type="xml">
                <tree colors="red:state in ('draft','confirmed')">
                    <field name="upkeep_date" string="Date"/>
                    <field name="activity_id" string="Activity"/>
                    <field name="activity_uom_id" string="UoM"/>
                    <field name="activity_unit_amount" string="Qty"/>
                    <field name="product_id" string="Material"/>
                    <field name="product_uom_id" string="UoM"/>
                    <field name="unit_amount" string="Qty"/>
                    <field name="amount" string="Cost"/>
                    <field name="ratio_product_activity" string="R_PA"/>
                    <!-- invisible field -->
                    <field name="state" invisible="True"/>

                </tree>
            </field>
        </record>

        <record id="upkeep_material_view_search" model="ir.ui.view">
            <field name="name">Upkeep Material Search</field>
            <field name="model">estate.upkeep.material</field>
            <field name="priority" eval="1"/>
            <field name="arch" type="xml">
                <search>
                    <field name="activity_id"/>
                    <field name="product_id"/>
                    <filter name="filter_new" string="Draft/Confirmed"
                            domain="[('state', 'in', ('draft','confirmed'))]"/>
                    <filter name="filter_approved" string="Approved"
                            domain="[('state', '=', 'approved')]"/>
                    <filter name="filter_month" icon="terp-go-month" string="This Month"
                            domain="[('upkeep_date','&lt;=',(context_today()+relativedelta(day=31)).strftime('%%Y-%%m-%%d')), ('upkeep_date','&gt;=',(context_today()-relativedelta(day=1)).strftime('%%Y-%%m-%%d'))]"/>
                    <filter name="filter_year" icon="terp-go-year" string="This Year"
                            domain="[('upkeep_date','&lt;=',(context_today()+relativedelta(day=31, month=12)).strftime('%%Y-%%m-%%d')), ('upkeep_date','&gt;=',(context_today()-relativedelta(day=1, month=1)).strftime('%%Y-%%m-%%d'))]"/>

                    <group string="Group By">
                        <filter name="by_activity" string="Activity"
                                context="{'group_by': 'activity_id'}"/>
                        <filter name="by_product" string="Material"
                                context="{'group_by': 'product_id'}"/>
                        <filter name="by_date" string="Date"
                                context="{'group_by': 'upkeep_date'}"/>
                    </group>
                </search>
            </field>
        </record>

        <record id="upkeep_material_view_form" model="ir.ui.view">
            <field name="name">Material Usage Form</field>
            <field name="model">estate.upkeep.material</field>
            <field name="priority" eval="1"/>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <div class="oe_title">
                            <label for="Upkeep" class="oe_edit_only"/>
                            <h1>
                                <field name="upkeep_id" readonly="True"/>
                            </h1>
                        </div>
                        <group>
                            <group string="Activity">
                                <field name="activity_id"/>
                                <field name="activity_uom_id"/>
                                <field name="activity_unit_amount"/>
                            </group>
                            <group string="Material">
                                <field name="product_id" readonly="True"/>
                                <field name="product_uom_id"/>
                                <field name="unit_amount" readonly="True"/>
                                <field name="amount"/>
                            </group>
                            <group string="Ratio">
                                <field name="ratio_product_activity"/>
                            </group>
                        </group>
                        <!-- invisible field -->
                        <field name="state" invisible="True"/>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="action_list_upkeep" model="ir.actions.act_window" >
            <field name="name">Upkeep</field>
            <field name="res_model">estate.upkeep</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'search_default_filter_new': 1}</field>
        </record>

        <menuitem id="estate_operation_menu" name="Operation" parent="main_estate_menu" sequence="10"
                groups="estate.group_user"/>

        <menuitem id="estate_upkeep" name="Upkeep"
                  parent="estate_operation_menu"
                  action="action_list_upkeep"
                  groups="estate.group_user"/>

        <!-- temporer -->
        <record id="upkeep_activity_view_tree" model="ir.ui.view" >
            <field name="name">Upkeep Activity Tree</field>
            <field name="model">estate.upkeep.activity</field>
            <field name="priority" eval="1"/>
            <field name="arch" type="xml">
                <tree string="Upkeep Activity" colors="red:state in ('draft','confirmed')">
                    <field name="upkeep_date"/>
                    <field name="activity_id"/>
                    <field name="activity_uom_id" string="UoM"/>
                    <field name="lot_id" string="Batch"/>
                    <field name="location_ids" string="Location"/>
                    <field name="labour_unit_amount" string="Qty."/>
                    <field name="labour_overtime_amount" string="OT"/>
                    <field name="labour_piece_rate_amount" string="PR"/>
                    <field name="amount" string="Cost" sum="Cost"/>
                    <field name="ratio_quantity_day" string="R_QD"/>
                    <field name="ratio_day_quantity" string="R_DQ"/>
                    <field name="ratio_wage_quantity" string="R_WQ"/>
                    <field name="state" invisible="True"/>
                </tree>
            </field>
        </record>

        <record id="action_list_upkeep_activity" model="ir.actions.act_window" >
            <field name="name">Upkeep Activity</field>
            <field name="res_model">estate.upkeep.activity</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'search_default_by_activity': 1,'search_default_filter_approved': 1,'search_default_filter_month': 1}</field>
        </record>

        <menuitem id="estate_upkeep_activity" name="Activity"
                  parent="estate_upkeep"
                  action="action_list_upkeep_activity"
                  groups="estate.group_user"/>

        <record id="action_list_upkeep_labour" model="ir.actions.act_window" >
            <field name="name">Upkeep Labour</field>
            <field name="res_model">estate.upkeep.labour</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'search_default_by_employee': 1, 'search_default_filter_approved': 1,'search_default_filter_month': 1}</field>
        </record>

        <menuitem id="estate_upkeep_labour" name="Labour"
                  parent="estate_upkeep"
                  action="action_list_upkeep_labour"
                  groups="estate.group_user"/>

        <record id="action_list_upkeep_material" model="ir.actions.act_window" >
            <field name="name">Upkeep Material</field>
            <field name="res_model">estate.upkeep.material</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'search_default_by_product': 1, 'search_default_filter_approved': 1,'search_default_filter_month': 1}</field>
        </record>

        <menuitem id="estate_upkeep_material" name="Material"
                  parent="estate_upkeep"
                  action="action_list_upkeep_material"
                  groups="estate.group_user"/>

    </data>
</openerp>